{"blueprint": "mdr_blueprint", "host_groups": [{"hosts": [{"fqdn": "node1.dev.local"}], "name": "host_group_1"}], "configurations": [{"zoo.cfg": {"clientPort": 2181, "autopurge.purgeInterval": 24, "syncLimit": 5, "dataDir": "/hadoop/zookeeper", "initLimit": 10, "tickTime": 2000, "autopurge.snapRetainCount": 30}}, {"oozie-env": {"oozie_heapsize": "2048m", "oozie_admin_port": 11001, "oozie_user_nproc_limit": 16000, "oozie_pid_dir": "/var/run/oozie", "oozie_admin_users": "{oozie_user}, oozie-admin", "oozie_user_nofile_limit": 32000, "oozie_tmp_dir": "/var/tmp/oozie", "oozie_user": "oozie", "oozie_database": "New Derby Database", "oozie_data_dir": "/hadoop/oozie/data", "oozie_permsize": "256m", "oozie_log_dir": "/var/log/oozie"}}, {"hadoop-policy": {"security.job.client.protocol.acl": "*", "security.job.task.protocol.acl": "*", "security.datanode.protocol.acl": "*", "security.namenode.protocol.acl": "*", "security.client.datanode.protocol.acl": "*", "security.inter.tracker.protocol.acl": "*", "security.refresh.usertogroups.mappings.protocol.acl": "hadoop", "security.client.protocol.acl": "*", "security.refresh.policy.protocol.acl": "hadoop", "security.admin.operations.protocol.acl": "hadoop", "security.inter.datanode.protocol.acl": "*"}}, {"tez-interactive-site": {"tez.runtime.pipelined.sorter.lazy-allocate.memory": "true", "tez.lib.uris": "/hdp/apps/${hdp.version}/tez_hive2/tez.tar.gz", "ez.runtime.shuffle.fetch.buffer.percent": 0.6, "tez.runtime.shuffle.memory.limit.percent": 0.25, "tez.grouping.node.local.only": "true", "tez.dag.recovery.enabled": "false", "tez.runtime.pipelined-shuffle.enabled": "false", "tez.runtime.report.partition.stats": "true", "tez.runtime.shuffle.fetch.verify-disk-checksum": "false", "tez.session.am.dag.submit.timeout.secs": 3600, "tez.am.resource.memory.mb": 1536}}, {"core-site": {"net.topology.script.file.name": "/etc/hadoop/conf/topology_script.py", "hadoop.proxyuser.hdfs.groups": "*", "hadoop.proxyuser.hcat.hosts": "%HOSTGROUP::host_group_1%", "hadoop.proxyuser.hcat.groups": "*", "fs.trash.interval": 360, "hadoop.proxyuser.hive.groups": "*", "hadoop.http.authentication.simple.anonymous.allowed": "true", "io.compression.codecs": "org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.SnappyCodec", "hadoop.proxyuser.root.groups": "*", "hadoop.proxyuser.livy.hosts": "*", "ipc.client.idlethreshold": 8000, "io.file.buffer.size": 131072, "io.serializations": "org.apache.hadoop.io.serializer.WritableSerialization", "hadoop.security.authentication": "simple", "hadoop.proxyuser.root.hosts": "node1.dev.local", "mapreduce.jobtracker.webinterface.trusted": "false", "hadoop.proxyuser.hdfs.hosts": "*", "hadoop.proxyuser.hive.hosts": "%HOSTGROUP::host_group_1%", "fs.defaultFS": "hdfs://%HOSTGROUP::host_group_1%:8020", "hadoop.proxyuser.livy.groups": "*", "hadoop.proxyuser.oozie.groups": "*", "ha.failover-controller.active-standby-elector.zk.op.retries": 120, "hadoop.security.authorization": "false", "ipc.server.tcpnodelay": "true", "ipc.client.connect.max.retries": 50, "hadoop.security.auth_to_local": "DEFAULT", "hadoop.proxyuser.oozie.hosts": "%HOSTGROUP::host_group_1%", "ipc.client.connection.maxidletime": 30000}}, {"hdfs-site": {"dfs.namenode.avoid.write.stale.datanode": "true", "dfs.namenode.startup.delay.block.deletion.sec": 3600, "dfs.namenode.checkpoint.txns": 1000000, "dfs.content-summary.limit": 5000, "dfs.support.append": "true", "dfs.datanode.data.dir": "/hadoop/hdfs/data", "dfs.cluster.administrators": "hdfs", "dfs.namenode.audit.log.async": "true", "dfs.datanode.balance.bandwidthPerSec": 6250000, "dfs.namenode.safemode.threshold-pct": 1, "dfs.namenode.checkpoint.edits.dir": "${dfs.namenode.checkpoint.dir}", "dfs.namenode.rpc-address": "%HOSTGROUP::host_group_1%:8020", "dfs.permissions.enabled": "true", "dfs.client.read.shortcircuit": "true", "dfs.https.port": 50470, "dfs.namenode.https-address": "%HOSTGROUP::host_group_1%:50470", "nfs.file.dump.dir": "/tmp/.hdfs-nfs", "dfs.namenode.fslock.fair": "false", "dfs.blockreport.initialDelay": 120, "dfs.journalnode.edits.dir": "/hadoop/hdfs/journalnode", "dfs.blocksize": 134217728, "dfs.datanode.max.transfer.threads": 4096, "dfs.datanode.du.reserved": 5074662912, "dfs.webhdfs.enabled": "true", "dfs.namenode.handler.count": 100, "dfs.namenode.checkpoint.dir": "/hadoop/hdfs/namesecondary", "fs.permissions.umask-mode": "022", "dfs.namenode.stale.datanode.interval": 30000, "dfs.datanode.ipc.address": "0.0.0.0:8010", "dfs.namenode.name.dir": "/hadoop/hdfs/namenode", "dfs.encrypt.data.transfer.cipher.suites": "AES/CTR/NoPadding", "dfs.datanode.address": "0.0.0.0:50010", "dfs.namenode.http-address": "%HOSTGROUP::host_group_1%:50070", "dfs.replication": 3, "dfs.datanode.failed.volumes.tolerated": 0, "dfs.namenode.accesstime.precision": 0, "dfs.datanode.https.address": "0.0.0.0:50475", "dfs.namenode.avoid.read.stale.datanode": "true", "dfs.namenode.secondary.http-address": "%HOSTGROUP::host_group_1%:50090", "nfs.exports.allowed.hosts": "* rw", "dfs.datanode.http.address": "0.0.0.0:50075", "dfs.heartbeat.interval": 3, "dfs.client.read.shortcircuit.streams.cache.size": 4096, "dfs.http.policy": "HTTP_ONLY", "dfs.block.access.token.enable": "true", "dfs.client.retry.policy.enabled": "false", "dfs.permissions.superusergroup": "hdfs", "dfs.journalnode.https-address": "0.0.0.0:8481", "dfs.journalnode.http-address": "0.0.0.0:8480", "dfs.domain.socket.path": "/var/lib/hadoop-hdfs/dn_socket", "dfs.namenode.write.stale.datanode.ratio": "1.0f", "dfs.hosts.exclude": "/etc/hadoop/conf/dfs.exclude", "dfs.datanode.data.dir.perm": 750, "dfs.namenode.name.dir.restore": "true", "dfs.replication.max": 50, "dfs.namenode.checkpoint.period": 21600}}, {"yarn-site": {"yarn.client.nodemanager-connect.max-wait-ms": 60000, "yarn.resourcemanager.hostname": "%HOSTGROUP::host_group_1%", "yarn.node-labels.enabled": "false", "yarn.resourcemanager.scheduler.monitor.enable": "false", "yarn.resourcemanager.zk-num-retries": 1000, "yarn.timeline-service.bind-host": "0.0.0.0", "yarn.log-aggregation-enable": "true", "yarn.nodemanager.linux-container-executor.cgroups.hierarchy": "hadoop-yarn", "yarn.timeline-service.webapp.address": "%HOSTGROUP::host_group_1%:8188", "yarn.resourcemanager.state-store.max-completed-applications": "${yarn.resourcemanager.max-completed-applications}", "yarn.timeline-service.enabled": "true", "yarn.nodemanager.recovery.enabled": "true", "yarn.timeline-service.http-authentication.type": "simple", "yarn.nodemanager.container-metrics.unregister-delay-ms": 60000, "yarn.resourcemanager.webapp.https.address": "%HOSTGROUP::host_group_1%:8090", "yarn.timeline-service.entity-group-fs-store.summary-store": "org.apache.hadoop.yarn.server.timeline.RollingLevelDBTimelineStore", "yarn.resourcemanager.am.max-attempts": 2, "yarn.nodemanager.log-aggregation.debug-enabled": "false", "yarn.scheduler.maximum-allocation-vcores": 3, "yarn.resourcemanager.system-metrics-publisher.enabled": "true", "yarn.nodemanager.vmem-pmem-ratio": 2.1, "yarn.nodemanager.resource.memory-mb": 8192, "yarn.nodemanager.linux-container-executor.cgroups.mount": "false", "yarn.resourcemanager.system-metrics-publisher.dispatcher.pool-size": 10, "yarn.log.server.url": "http://%HOSTGROUP::host_group_1%:19888/jobhistory/logs", "yarn.application.classpath": "$HADOOP_CONF_DIR,/usr/hdp/current/hadoop-client/*,/usr/hdp/current/hadoop-client/lib/*,/usr/hdp/current/hadoop-hdfs-client/*,/usr/hdp/current/hadoop-hdfs-client/lib/*,/usr/hdp/current/hadoop-yarn-client/*,/usr/hdp/current/hadoop-yarn-client/lib/*", "yarn.resourcemanager.webapp.delegation-token-auth-filter.enabled": "false", "yarn.timeline-service.entity-group-fs-store.active-dir": "/ats/active/", "yarn.nodemanager.local-dirs": "/hadoop/yarn/local", "yarn.nodemanager.linux-container-executor.cgroups.strict-resource-usage": "false", "yarn.nodemanager.remote-app-log-dir-suffix": "logs", "yarn.resourcemanager.bind-host": "0.0.0.0", "yarn.resourcemanager.address": "%HOSTGROUP::host_group_1%:8050", "yarn.timeline-service.ttl-ms": 2678400000, "yarn.nodemanager.container-monitor.interval-ms": 3000, "yarn.node-labels.fs-store.retry-policy-spec": "2000, 500", "yarn.resourcemanager.zk-acl": "world:anyone:rwcda", "yarn.timeline-service.leveldb-state-store.path": "/hadoop/yarn/timeline", "yarn.timeline-service.address": "%HOSTGROUP::host_group_1%:10200", "yarn.resourcemanager.ha.enabled": "false", "yarn.nodemanager.delete.debug-delay-sec": 0, "yarn.timeline-service.store-class": "org.apache.hadoop.yarn.server.timeline.EntityGroupFSTimelineStore", "yarn.timeline-service.client.retry-interval-ms": 1000, "yarn.timeline-service.entity-group-fs-store.group-id-plugin-classes": "org.apache.tez.dag.history.logging.ats.TimelineCachePluginImpl", "hadoop.registry.zk.quorum": "%HOSTGROUP::host_group_1%:2181", "yarn.nodemanager.aux-services": "mapreduce_shuffle", "yarn.nodemanager.aux-services.mapreduce_shuffle.class": "org.apache.hadoop.mapred.ShuffleHandler", "yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage": 90, "yarn.resourcemanager.zk-timeout-ms": 10000, "yarn.resourcemanager.fs.state-store.uri": null, "yarn.nodemanager.linux-container-executor.group": "hadoop", "yarn.nodemanager.remote-app-log-dir": "/app-logs", "yarn.timeline-service.entity-group-fs-store.cleaner-interval-seconds": 3600, "yarn.resourcemanager.work-preserving-recovery.scheduling-wait-ms": 10000, "yarn.timeline-service.generic-application-history.store-class": "org.apache.hadoop.yarn.server.applicationhistoryservice.NullApplicationHistoryStore", "yarn.timeline-service.http-authentication.proxyuser.root.groups": "*", "yarn.nodemanager.disk-health-checker.min-healthy-disks": 0.25, "yarn.resourcemanager.work-preserving-recovery.enabled": "true", "yarn.resourcemanager.resource-tracker.address": "%HOSTGROUP::host_group_1%:8025", "yarn.nodemanager.health-checker.script.timeout-ms": 60000, "yarn.resourcemanager.scheduler.class": "org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler", "yarn.resourcemanager.nodes.exclude-path": "/etc/hadoop/conf/yarn.exclude", "yarn.nodemanager.resource.cpu-vcores": 3, "yarn.scheduler.maximum-allocation-mb": 8192, "yarn.nodemanager.resource.percentage-physical-cpu-limit": 80, "yarn.nodemanager.disk-health-checker.min-free-space-per-disk-mb": 1000, "yarn.nodemanager.log-aggregation.roll-monitoring-interval-seconds": 3600, "yarn.nodemanager.log.retain-second": 604800, "yarn.timeline-service.state-store-class": "org.apache.hadoop.yarn.server.timeline.recovery.LeveldbTimelineStateStore", "yarn.nodemanager.log-dirs": "/hadoop/yarn/log", "yarn.timeline-service.client.max-retries": 30, "yarn.nodemanager.health-checker.interval-ms": 135000, "yarn.nodemanager.admin-env": "MALLOC_ARENA_MAX=$MALLOC_ARENA_MAX", "yarn.nodemanager.vmem-check-enabled": "false", "yarn.acl.enable": "false", "yarn.timeline-service.leveldb-timeline-store.read-cache-size": 104857600, "yarn.nodemanager.linux-container-executor.resources-handler.class": "org.apache.hadoop.yarn.server.nodemanager.util.DefaultLCEResourcesHandler", "yarn.resourcemanager.webapp.address": "%HOSTGROUP::host_group_1%:8088", "yarn.timeline-service.http-authentication.simple.anonymous.allowed": "true", "yarn.timeline-service.leveldb-timeline-store.start-time-read-cache-size": 10000, "yarn.resourcemanager.connect.max-wait.ms": 900000, "yarn.http.policy": "HTTP_ONLY", "yarn.timeline-service.version": 1.5, "yarn.resourcemanager.zk-address": "%HOSTGROUP::host_group_1%:2181", "yarn.nodemanager.container-executor.class": "org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor", "yarn.resourcemanager.store.class": "org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore", "yarn.timeline-service.entity-group-fs-store.retain-seconds": 604800, "yarn.scheduler.minimum-allocation-vcores": 1, "yarn.timeline-service.leveldb-timeline-store.path": "/hadoop/yarn/timeline", "yarn.scheduler.minimum-allocation-mb": 1024, "yarn.timeline-service.ttl-enable": "true", "yarn.resourcemanager.scheduler.address": "%HOSTGROUP::host_group_1%:8030", "yarn.log-aggregation.retain-seconds": 2592000, "yarn.nodemanager.address": "0.0.0.0:45454", "hadoop.registry.rm.enabled": "true", "yarn.timeline-service.leveldb-timeline-store.ttl-interval-ms": 300000, "yarn.resourcemanager.fs.state-store.retry-policy-spec": "2000, 500", "yarn.resourcemanager.zk-state-store.parent-path": "/rmstore", "yarn.nodemanager.log-aggregation.compression-type": "gz", "yarn.nodemanager.log-aggregation.num-log-files-per-app": 30, "yarn.resourcemanager.recovery.enabled": "true", "yarn.timeline-service.recovery.enabled": "true", "yarn.nodemanager.bind-host": "0.0.0.0", "yarn.resourcemanager.zk-retry-interval-ms": 1000, "yarn.admin.acl": "yarn", "yarn.timeline-service.http-authentication.proxyuser.root.hosts": "node1.dev.local", "yarn.node-labels.fs-store.root-dir": "/system/yarn/node-labels", "yarn.timeline-service.entity-group-fs-store.scan-interval-seconds": 60, "yarn.timeline-service.entity-group-fs-store.done-dir": "/ats/done/", "yarn.client.nodemanager-connect.retry-interval-ms": 10000, "yarn.resourcemanager.admin.address": "%HOSTGROUP::host_group_1%:8141", "yarn.timeline-service.webapp.https.address": "%HOSTGROUP::host_group_1%:8190", "yarn.resourcemanager.connect.retry-interval.ms": 30000, "yarn.timeline-service.leveldb-timeline-store.start-time-write-cache-size": 10000}}, {"yarn-env": {"yarn_heapsize": 1024, "yarn_user_nproc_limit": 65536, "resourcemanager_heapsize": 1024, "yarn_cgroups_enabled": "false", "is_supported_yarn_ranger": "true", "nodemanager_heapsize": 1024, "yarn_pid_dir_prefix": "/var/run/hadoop-yarn", "service_check.queue.name": "default", "yarn_user_nofile_limit": 32768, "min_user_id": 500, "yarn_user": "yarn", "apptimelineserver_heapsize": 1024, "yarn_log_dir_prefix": "/var/log/hadoop-yarn"}}, {"oozie-site": {"oozie.service.JPAService.jdbc.driver": "org.apache.derby.jdbc.EmbeddedDriver", "oozie.service.JPAService.jdbc.password": "oozie", "oozie.service.HadoopAccessorService.kerberos.enabled": "false", "oozie.service.JPAService.jdbc.username": "oozie", "oozie.base.url": "http://%HOSTGROUP::host_group_1%:11000/oozie", "oozie.services.ext": "\n      org.apache.oozie.service.JMSAccessorService,org.apache.oozie.service.PartitionDependencyManagerService,org.apache.oozie.service.HCatAccessorService", "oozie.service.AuthorizationService.security.enabled": "true", "oozie.action.retry.interval": 30, "oozie.service.URIHandlerService.uri.handlers": "org.apache.oozie.dependency.FSURIHandler,org.apache.oozie.dependency.HCatURIHandler", "oozie.authentication.type": "simple", "oozie.db.schema.name": "oozie", "oozie.credentials.credentialclasses": "hcat=org.apache.oozie.action.hadoop.HCatCredentials,hive2=org.apache.oozie.action.hadoop.Hive2Credentials", "oozie.authentication.simple.anonymous.allowed": "true"}}, {"capacity-scheduler": {"yarn.scheduler.capacity.default.minimum-user-limit-percent": 100, "yarn.scheduler.capacity.root.default.maximum-capacity": 100, "yarn.scheduler.capacity.root.accessible-node-labels": "*", "yarn.scheduler.capacity.root.capacity": 100, "yarn.scheduler.capacity.maximum-am-resource-percent": 0.2, "yarn.scheduler.capacity.maximum-applications": 10000, "yarn.scheduler.capacity.root.default.user-limit-factor": 1, "yarn.scheduler.capacity.node-locality-delay": 40, "yarn.scheduler.capacity.root.default.state": "RUNNING", "yarn.scheduler.capacity.root.default.capacity": 100, "capacity-scheduler": null, "yarn.scheduler.capacity.root.acl_administer_queue": "*", "yarn.scheduler.capacity.root.queues": "default", "yarn.scheduler.capacity.root.default.acl_submit_applications": "*", "yarn.scheduler.capacity.root.default.acl_administer_jobs": "*", "yarn.scheduler.capacity.resource-calculator": "org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator"}}, {"mapred-site": {"mapreduce.jobhistory.address": "%HOSTGROUP::host_group_1%:10020", "mapreduce.cluster.administrators": "hadoop", "mapreduce.reduce.input.buffer.percent": 0.0, "mapreduce.output.fileoutputformat.compress": "false", "mapreduce.framework.name": "yarn", "mapreduce.map.speculative": "false", "mapreduce.reduce.shuffle.merge.percent": 0.66, "yarn.app.mapreduce.am.resource.mb": 1024, "mapreduce.map.java.opts": "-Xmx1228m", "mapreduce.jobhistory.recovery.store.leveldb.path": "/hadoop/mapreduce/jhs", "mapreduce.application.classpath": "$PWD/mr-framework/hadoop/share/hadoop/mapreduce/*:$PWD/mr-framework/hadoop/share/hadoop/mapreduce/lib/*:$PWD/mr-framework/hadoop/share/hadoop/common/*:$PWD/mr-framework/hadoop/share/hadoop/common/lib/*:$PWD/mr-framework/hadoop/share/hadoop/yarn/*:$PWD/mr-framework/hadoop/share/hadoop/yarn/lib/*:$PWD/mr-framework/hadoop/share/hadoop/hdfs/*:$PWD/mr-framework/hadoop/share/hadoop/hdfs/lib/*:$PWD/mr-framework/hadoop/share/hadoop/tools/lib/*:/usr/hdp/${hdp.version}/hadoop/lib/hadoop-lzo-0.6.0.${hdp.version}.jar:/etc/hadoop/conf/", "mapreduce.job.reduce.slowstart.completedmaps": 0.05, "mapreduce.jobhistory.intermediate-done-dir": "/mr-history/tmp", "mapreduce.output.fileoutputformat.compress.type": "BLOCK", "mapreduce.reduce.speculative": "false", "mapreduce.reduce.java.opts": "-Xmx1638m", "mapreduce.am.max-attempts": 2, "yarn.app.mapreduce.am.admin-command-opts": "-Dhdp.version=${hdp.version}", "mapreduce.reduce.log.level": "INFO", "mapreduce.map.sort.spill.percent": 0.7, "mapreduce.job.emit-timeline-data": "false", "mapreduce.application.framework.path": "/hdp/apps/${hdp.version}/mapreduce/mapreduce.tar.gz#mr-framework", "mapreduce.task.timeout": 300000, "mapreduce.map.memory.mb": 1536, "mapreduce.task.io.sort.factor": 100, "mapreduce.jobhistory.http.policy": "HTTP_ONLY", "mapreduce.reduce.memory.mb": 2048, "mapreduce.jobhistory.recovery.enable": "true", "mapreduce.job.queuename": "default", "mapreduce.map.log.level": "INFO", "mapreduce.shuffle.port": 13562, "mapreduce.job.counters.max": 130, "mapreduce.reduce.shuffle.fetch.retry.timeout-ms": 30000, "mapreduce.admin.user.env": "LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-amd64-64", "mapreduce.jobhistory.recovery.store.class": "org.apache.hadoop.mapreduce.v2.hs.HistoryServerLeveldbStateStoreService", "mapreduce.map.output.compress": "false", "yarn.app.mapreduce.am.staging-dir": "/user", "mapreduce.reduce.shuffle.parallelcopies": 30, "yarn.app.mapreduce.am.command-opts": "-Xmx819m -Dhdp.version=${hdp.version}", "mapreduce.jobhistory.webapp.address": "%HOSTGROUP::host_group_1%:19888", "mapreduce.admin.map.child.java.opts": "-server -XX:NewRatio=8 -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}", "mapreduce.jobhistory.done-dir": "/mr-history/done", "mapreduce.admin.reduce.child.java.opts": "-server -XX:NewRatio=8 -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}", "mapreduce.reduce.shuffle.fetch.retry.enabled": 1, "mapreduce.task.io.sort.mb": 859, "mapreduce.reduce.shuffle.input.buffer.percent": 0.7, "mapreduce.reduce.shuffle.fetch.retry.interval-ms": 1000, "mapreduce.jobhistory.bind-host": "0.0.0.0", "yarn.app.mapreduce.am.log.level": "INFO"}}, {"hive-site": {"javax.jdo.option.ConnectionDriverName": "com.mysql.jdbc.Driver", "hive.fetch.task.aggr": "false", "hive.execution.engine": "tez", "hive.tez.java.opts": "-server -Djava.net.preferIPv4Stack=true -XX:NewRatio=8 -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB -XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps", "hive.vectorized.groupby.maxentries": 100000, "hive.server2.thrift.http.port": 10001, "hive.tez.min.partition.factor": 0.25, "hive.tez.cpu.vcores": -1, "hive.conf.restricted.list": "hive.security.authenticator.manager,hive.security.authorization.manager,hive.users.in.admin.role", "hive.stats.dbclass": "fs", "hive.merge.size.per.task": 256000000, "hive.fetch.task.conversion": "more", "hive.auto.convert.sortmerge.join.to.mapjoin": "false", "hive.server2.thrift.http.path": "cliservice", "hive.metastore.authorization.storage.checks": "false", "hive.exec.post.hooks": "org.apache.hadoop.hive.ql.hooks.ATSHook", "hive.zookeeper.namespace": "hive_zookeeper_namespace", "hive.cbo.enable": "true", "hive.optimize.reducededuplication": "true", "hive.optimize.bucketmapjoin": "true", "hive.mapjoin.bucket.cache.size": 10000, "hive.limit.optimize.enable": "true", "hive.fetch.task.conversion.threshold": 1073741824, "hive.exec.max.dynamic.partitions": 5000, "hive.metastore.sasl.enabled": "false", "hive.txn.manager": "org.apache.hadoop.hive.ql.lockmgr.DummyTxnManager", "hive.optimize.constant.propagation": "true", "hive.exec.submitviachild": "false", "hive.metastore.kerberos.principal": "hive/_HOST@EXAMPLE.COM", "hive.txn.max.open.batch": 1000, "hive.exec.compress.output": "false", "hive.tez.auto.reducer.parallelism": "true", "hive.security.authenticator.manager": "org.apache.hadoop.hive.ql.security.ProxyUserAuthenticator", "hive.merge.mapfiles": "true", "hive.compactor.initiator.on": "false", "hive.mapjoin.optimized.hashtable": "true", "hive.default.fileformat": "TextFile", "hive.optimize.metadataonly": "true", "hive.tez.dynamic.partition.pruning.max.event.size": 1048576, "hive.server2.thrift.max.worker.threads": 500, "hive.optimize.sort.dynamic.partition": "false", "hive.server2.table.type.mapping": "CLASSIC", "hive.metastore.pre.event.listeners": "org.apache.hadoop.hive.ql.security.authorization.AuthorizationPreEventListener", "hive.metastore.failure.retries": 24, "hive.merge.smallfiles.avgsize": 16000000, "hive.tez.max.partition.factor": 2.0, "hive.server2.transport.mode": "binary", "hive.tez.container.size": 1024, "hive.optimize.bucketmapjoin.sortedmerge": "false", "hive.compactor.worker.threads": 0, "hive.security.metastore.authorization.manager": "org.apache.hadoop.hive.ql.security.authorization.StorageBasedAuthorizationProvider", "hive.map.aggr.hash.percentmemory": 0.5, "hive.user.install.directory": "/user/", "datanucleus.autoCreateSchema": "false", "hive.compute.query.using.stats": "true", "hive.merge.rcfile.block.level": "true", "hive.map.aggr": "true", "hive.metastore.client.connect.retry.delay": "5s", "hive.security.authorization.enabled": "false", "atlas.hook.hive.minThreads": 1, "hive.server2.tez.default.queues": "default", "hive.prewarm.enabled": "false", "hive.exec.reducers.max": 1009, "hive.metastore.kerberos.keytab.file": "/etc/security/keytabs/hive.service.keytab", "hive.stats.fetch.partition.stats": "true", "hive.cli.print.header": "false", "hive.server2.thrift.sasl.qop": "auth", "hive.server2.support.dynamic.service.discovery": "true", "hive.server2.thrift.port": 10000, "hive.exec.reducers.bytes.per.reducer": 67108864, "hive.compactor.abortedtxn.threshold": 1000, "hive.tez.dynamic.partition.pruning.max.data.size": 104857600, "hive.metastore.warehouse.dir": "/apps/hive/warehouse", "hive.metastore.client.socket.timeout": "1800s", "hive.server2.zookeeper.namespace": "hiveserver2", "hive.prewarm.numcontainers": 3, "hive.server2.enable.doAs": "true", "hive.security.metastore.authenticator.manager": "org.apache.hadoop.hive.ql.security.HadoopDefaultMetastoreAuthenticator", "atlas.hook.hive.maxThreads": 1, "hive.server2.use.SSL": "false", "hive.enforce.bucketing": "false", "hive.server2.authentication.spnego.keytab": "HTTP/_HOST@EXAMPLE.COM", "datanucleus.fixedDatastore": "true", "javax.jdo.option.ConnectionURL": "jdbc:mysql://%HOSTGROUP::host_group_1%/hive?createDatabaseIfNotExist=true", "hive.exec.dynamic.partition.mode": "strict", "hive.auto.convert.sortmerge.join": "true", "hive.zookeeper.quorum": "%HOSTGROUP::host_group_1%:2181", "hive.security.authorization.manager": "org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.SQLStdConfOnlyAuthorizerFactory", "hive.exec.parallel": "false", "hive.stats.fetch.column.stats": "true", "hive.enforce.sorting": "true", "hive.txn.timeout": 300, "hive.exec.scratchdir": "/tmp/hive", "hive.exec.orc.default.stripe.size": 67108864, "hive.metastore.cache.pinobjtypes": "Table,Database,Type,FieldSchema,Order", "hive.server2.logging.operation.enabled": "true", "hive.merge.tezfiles": "false", "hive.exec.parallel.thread.number": 8, "hive.auto.convert.join.noconditionaltask": "true", "hive.server2.authentication.spnego.principal": "/etc/security/keytabs/spnego.service.keytab", "hive.compactor.worker.timeout": "86400L", "hive.optimize.null.scan": "true", "hive.server2.tez.initialize.default.sessions": "false", "datanucleus.cache.level2.type": "none", "hive.stats.autogather": "true", "hive.auto.convert.join": "true", "hive.exec.submit.local.task.via.child": "true", "hive.merge.mapredfiles": "false", "hive.vectorized.execution.enabled": "true", "hive.cluster.delegation.token.store.zookeeper.connectString": "%HOSTGROUP::host_group_1%:2181", "hive.vectorized.execution.reduce.enabled": "false", "hive.optimize.index.filter": "true", "hive.server2.tez.sessions.per.default.queue": 1, "hive.exec.max.dynamic.partitions.pernode": 2000, "hive.tez.dynamic.partition.pruning": "true", "hive.mapred.reduce.tasks.speculative.execution": "false", "hive.limit.pushdown.memory.usage": 0.04, "hive.security.metastore.authorization.auth.reads": "true", "ambari.hive.db.schema.name": "hive", "hive.smbjoin.cache.rows": 10000, "hive.metastore.execute.setugi": "true", "hive.zookeeper.client.port": 2181, "hive.vectorized.groupby.checkinterval": 4096, "hive.cluster.delegation.token.store.class": "org.apache.hadoop.hive.thrift.ZooKeeperTokenStore", "hive.cluster.delegation.token.store.zookeeper.znode": "/hive/cluster/delegation", "javax.jdo.option.ConnectionPassword": "HIVE_CLIENT,WEBHCAT_SERVER,HCAT,CONFIG_DOWNLOAD", "hive.exec.max.created.files": 100000, "hive.default.fileformat.managed": "TextFile", "hive.map.aggr.hash.min.reduction": 0.5, "hive.server2.max.start.attempts": 5, "hive.orc.splits.include.file.footer": "false", "hive.exec.pre.hooks": "org.apache.hadoop.hive.ql.hooks.ATSHook", "hive.merge.orcfile.stripe.level": "true", "hive.exec.orc.default.compress": "ZLIB", "hive.server2.allow.user.substitution": "true", "hive.exec.orc.encoding.strategy": "SPEED", "hive.metastore.connect.retries": 24, "hive.metastore.server.max.threads": 100000, "hive.exec.orc.compression.strategy": "SPEED", "hive.vectorized.groupby.flush.percent": 0.1, "hive.metastore.uris": "thrift://%HOSTGROUP::host_group_1%:9083", "hive.enforce.sortmergebucketmapjoin": "true", "hive.auto.convert.join.noconditionaltask.size": 286331153, "javax.jdo.option.ConnectionUserName": "hive", "hive.tez.log.level": "INFO", "hive.compactor.delta.num.threshold": 10, "hive.exec.dynamic.partition": "true", "hive.server2.authentication": "NONE", "hive.exec.compress.intermediate": "false", "hive.orc.compute.splits.num.threads": 10, "hive.tez.smb.number.waves": 0.5, "hive.convert.join.bucket.mapjoin.tez": "false", "hive.optimize.reducededuplication.min.reducer": 4, "hive.server2.logging.operation.log.location": "/tmp/hive/operation_logs", "hive.tez.input.format": "org.apache.hadoop.hive.ql.io.HiveInputFormat", "hive.exec.failure.hooks": "org.apache.hadoop.hive.ql.hooks.ATSHook", "hive.support.concurrency": "false", "hive.compactor.check.interval": "300L", "hive.compactor.delta.pct.threshold": "0.1f", "hive.map.aggr.hash.force.flush.memory.threshold": 0.9}}, {"tez-site": {"tez.task.get-task.sleep.interval-ms.max": 200, "tez.task.max-events-per-heartbeat": 500, "tez.task.launch.cmd-opts": "-XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB", "tez.runtime.compress": "true", "tez.runtime.io.sort.mb": 270, "tez.runtime.shuffle.fetch.buffer.percent": 0.6, "tez.runtime.convert.user-payload.to.history-text": "false", "tez.generate.debug.artifacts": "false", "tez.am.tez-ui.history-url.template": "__HISTORY_URL_BASE__?viewPath=%2F%23%2Ftez-app%2F__APPLICATION_ID__", "tez.am.view-acls": "*", "tez.am.log.level": "INFO", "tez.counters.max.groups": 3000, "tez.runtime.unordered.output.buffer.size-mb": 76, "tez.shuffle-vertex-manager.max-src-fraction": 0.4, "tez.counters.max": 10000, "tez.queue.name": "default", "tez.task.resource.memory.mb": 1024, "tez.history.logging.service.class": "org.apache.tez.dag.history.logging.ats.ATSV15HistoryLoggingService", "tez.runtime.optimize.local.fetch": "true", "tez.am.launch.cmd-opts": "-XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB", "tez.task.am.heartbeat.counter.interval-ms.max": 4000, "tez.grouping.split-waves": 1.7, "tez.am.max.app.attempts": 2, "tez.am.launch.env": "LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-amd64-64", "tez.am.container.idle.release-timeout-max.millis": 20000, "tez.use.cluster.hadoop-libs": "false", "tez.am.launch.cluster-default.cmd-opts": "-server -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}", "tez.am.container.idle.release-timeout-min.millis": 10000, "tez.runtime.sorter.class": "PIPELINED", "tez.runtime.compress.codec": "org.apache.hadoop.io.compress.SnappyCodec", "tez.task.launch.cluster-default.cmd-opts": "-server -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}", "tez.task.launch.env": "LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-amd64-64", "tez.am.container.reuse.enabled": "true", "tez.session.am.dag.submit.timeout.secs": 600, "tez.grouping.min-size": 16777216, "tez.grouping.max-size": 1073741824, "tez.session.client.timeout.secs": -1, "tez.cluster.additional.classpath.prefix": "/usr/hdp/${hdp.version}/hadoop/lib/hadoop-lzo-0.6.0.${hdp.version}.jar:/etc/hadoop/conf/secure", "tez.lib.uris": "/hdp/apps/${hdp.version}/tez/tez.tar.gz", "tez.staging-dir": "/tmp/${user.name}/staging", "tez.am.am-rm.heartbeat.interval-ms.max": 250, "tez.am.maxtaskfailures.per.node": 10, "tez.am.resource.memory.mb": 2048, "tez.runtime.shuffle.memory.limit.percent": 0.25, "tez.am.container.reuse.non-local-fallback.enabled": "false", "tez.am.container.reuse.rack-fallback.enabled": "true", "tez.runtime.pipelined.sorter.sort.threads": 2, "tez.am.container.reuse.locality.delay-allocation-millis": 250, "tez.shuffle-vertex-manager.min-src-fraction": 0.2, "tez.task.generate.counters.per.io": "true"}}, {"webhcat-site": {"templeton.hive.properties": "hive.metastore.local=false,hive.metastore.uris=thrift://%HOSTGROUP::host_group_1%:9083,hive.metastore.sasl.enabled=false,hive.metastore.execute.setugi=true", "templeton.hadoop.conf.dir": "/etc/hadoop/conf", "templeton.port": 50111, "templeton.hive.home": "hive.tar.gz/hive", "templeton.hcat": "/usr/hdp/${hdp.version}/hive/bin/hcat", "templeton.exec.timeout": 60000, "templeton.hcat.home": "hive.tar.gz/hive/hcatalog", "templeton.sqoop.home": "sqoop.tar.gz/sqoop", "templeton.python": "${env.PYTHON_CMD}", "templeton.sqoop.archive": "hdfs:///hdp/apps/${hdp.version}/sqoop/sqoop.tar.gz", "templeton.libjars": "/usr/hdp/${hdp.version}/zookeeper/zookeeper.jar,/usr/hdp/${hdp.version}/hive/lib/hive-common.jar", "templeton.hadoop": "/usr/hdp/${hdp.version}/hadoop/bin/hadoop", "templeton.override.enabled": "false", "templeton.jar": "/usr/hdp/${hdp.version}/hive/share/webhcat/svr/lib/hive-webhcat-*.jar", "templeton.storage.class": "org.apache.hive.hcatalog.templeton.tool.ZooKeeperStorage", "templeton.hive.extra.files": "/usr/hdp/${hdp.version}/tez/conf/tez-site.xml,/usr/hdp/${hdp.version}/tez,/usr/hdp/${hdp.version}/tez/lib", "webhcat.proxyuser.root.hosts": "node1.dev.local", "webhcat.proxyuser.root.groups": "*", "templeton.hive.path": "hive.tar.gz/hive/bin/hive", "templeton.pig.path": "pig.tar.gz/pig/bin/pig", "templeton.sqoop.path": "sqoop.tar.gz/sqoop/bin/sqoop", "templeton.zookeeper.hosts": "%HOSTGROUP::host_group_1%:2181", "templeton.hive.archive": "hdfs:///hdp/apps/${hdp.version}/hive/hive.tar.gz", "templeton.streaming.jar": "hdfs:///hdp/apps/${hdp.version}/mapreduce/hadoop-streaming.jar", "templeton.pig.archive": "hdfs:///hdp/apps/${hdp.version}/pig/pig.tar.gz", "templeton.hadoop.queue.name": "default"}}, {"hivemetastore-site": {"hive.service.metrics.hadoop2.component": "hivemetastore", "hive.metastore.metrics.enabled": "true", "hive.service.metrics.file.location": "/var/log/hive/hivemetastore-report.json", "hive.service.metrics.reporter": "JSON_FILE, JMX, HADOOP2"}}, {"hadoop-env": {"dtnode_heapsize": "1024m", "proxyuser_group": "users", "hdfs_user_nproc_limit": 65536, "hdfs_log_dir_prefix": "/var/log/hadoop", "keyserver_host": " ", "namenode_heapsize": "1024m", "keyserver_port": "", "hdfs_user_nofile_limit": 128000, "namenode_opt_maxnewsize": "128m", "hadoop_pid_dir_prefix": "/var/run/hadoop", "hdfs_user": "hdfs", "namenode_opt_newsize": "128m", "nfsgateway_heapsize": 1024, "namenode_backup_dir": "/tmp/upgrades", "hadoop_root_logger": "INFO,RFA", "hadoop_heapsize": 1024, "namenode_opt_maxpermsize": "256m", "namenode_opt_permsize": "128m", "hdfs_tmp_dir": "/tmp"}}, {"zookeeper-env": {"zk_log_dir": "/var/log/zookeeper", "zk_pid_dir": "/var/run/zookeeper", "zk_user": "zookeeper"}}, {"mapred-env": {"jobhistory_heapsize": 900, "mapred_log_dir_prefix": "/var/log/hadoop-mapreduce", "mapred_pid_dir_prefix": "/var/run/hadoop-mapreduce", "mapred_user_nofile_limit": 32768, "mapred_user_nproc_limit": 65536, "mapred_user": "mapred"}}, {"hive-env": {"hive.heapsize": 4466, "hive.client.heapsize": 1024, "hive_user_nproc_limit": 16000, "hcat_log_dir": "/var/log/webhcat", "hive_ambari_database": "MySQL", "hive_log_dir": "/var/log/hive", "webhcat_user": "hcat", "hcat_pid_dir": "/var/run/webhcat", "hive_security_authorization": "None", "hive_database_name": "hive", "hive_database_type": "mysql", "hive_pid_dir": "/var/run/hive", "hive_timeline_logging_enabled": "true", "hive_user_nofile_limit": 32000, "hive_user": "hive", "hive_exec_orc_storage_strategy": "SPEED", "hcat_user": "hcat", "hive_txn_acid": false, "hive.metastore.heapsize": 1488, "hive_database": "New MySQL Database"}}, {"cluster-env": {"repo_suse_rhel_template": "[{{repo_id}}]\nname={{repo_id}}\n{% if mirror_list %}mirrorlist={{mirror_list}}{% else %}baseurl={{base_url}}{% endif %}\n\npath=/\nenabled=1\ngpgcheck=0\nproxy=_none_"}}]}